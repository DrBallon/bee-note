(this["webpackJsonpbee-note"]=this["webpackJsonpbee-note"]||[]).push([[0],{462:function(t,n,e){"use strict";e.r(n);var r=e(1),o=e(0),i=e.n(o),c=e(22),u=e.n(c),a=e(3),l=e(2),d=e(19);function f(){var t=Object(a.a)(["\n  min-width: 0;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n"]);return f=function(){return t},t}function s(){var t=Object(a.a)(["\n  display: flex;\n  flex: 1;\n  overflow: hidden;\n  padding-left: 10px;\n"]);return s=function(){return t},t}function b(){var t=Object(a.a)(["\n  flex: 1;\n"]);return b=function(){return t},t}function h(){var t=Object(a.a)(["\n  height: 100%;\n  width: 1px;\n  background-color: ",";\n  /* border: 3px solid #2d2d2d; */\n  border: 1px solid ",";\n"]);return h=function(){return t},t}function j(){var t=Object(a.a)(["\n  min-width: 0;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n"]);return j=function(){return t},t}function v(){var t=Object(a.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: green;\n  display: flex;\n  z-index: 100;\n"]);return v=function(){return t},t}function p(){var t=Object(a.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n"]);return p=function(){return t},t}l.c.div(p());var x=l.c.div(v()),g=l.c.div(j());var O=l.c.div(h(),(function(t){return t.theme.borderColor}),(function(t){return t.theme.borderColor}));function m(t){return Object(r.jsx)(O,{})}l.c.div(b());var w=l.c.div(s()),y=l.c.div(f()),T="\n&::-webkit-scrollbar {\n  /*\u6eda\u52a8\u6761\u6574\u4f53\u6837\u5f0f*/\n  width: 20px; /*\u9ad8\u5bbd\u5206\u522b\u5bf9\u5e94\u6a2a\u7ad6\u6eda\u52a8\u6761\u7684\u5c3a\u5bf8*/\n  height: 1px;\n}\n&::-webkit-scrollbar-thumb {\n  /*\u6eda\u52a8\u6761\u91cc\u9762\u5c0f\u65b9\u5757*/\n  /* box-shadow: inset 0 0 5px $; */\n  background: #535353;\n}\n&::-webkit-scrollbar-track {\n  /*\u6eda\u52a8\u6761\u91cc\u9762\u8f68\u9053*/\n  /* box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);\n  border-radius: 10px;\n  background: #ededed; */\n}\n",k=e(6),N=e(95);function C(){var t=Object(a.a)(["\n  height: ",";\n  width: ",";\n"]);return C=function(){return t},t}function E(){var t=Object(a.a)(["\n  height: ",";\n  width: ",";\n  background-color: ",";\n  border: 1px solid black;\n  box-sizing: border-box;\n"]);return E=function(){return t},t}var D=l.c.div(E(),(function(t){var n=t.theme,e=t.height;return e||n.navigatorButtonWidth+"px"}),(function(t){var n=t.theme,e=t.width;return e||n.navigatorButtonWidth+"px"}),(function(t){return t.theme.themeColorDark})),S=l.c.div(C(),(function(t){return t.theme.navigatorButtonWidth+"px"}),(function(t){return t.theme.navigatorButtonWidth+"px"}));var X=Object(k.b)(null,null)((function(t){var n=t.clickEvent,e=(t.width,t.height,t.path),o=t.placeHolder,i=void 0!==o&&o,c=t.size;return i?Object(r.jsx)(S,{}):Object(r.jsx)(D,{width:c,height:c,onClick:function(){return n&&n()},children:Object(r.jsx)(N.Icon,{path:e,size:c})})})),z="ADD_NOTE",L="GET_NOTES",R="TOGGLE_NOTE",W="SWITCH_CURRENT_NOTE",J="CHANGE_FILTER",B="EDIT_NOTE",I="DEL_NOTE",_=function(t){return{type:I,payload:{title:t.title}}},H=function(t){return{type:W,payload:{title:t.title}}},G=function(t){return{type:J,payload:{filter:t.filter}}},F=e(24),M=e(38);function U(t,n){var e="",r="#".repeat(n);return e+="".concat(r," ").concat(t.title,"\n"),e+="".concat(t.content,"\n"),t.sub.forEach((function(t){e+=U(t,n+1)})),e}var A=function(t){return t.noteData.curNoteTitle},P=function(t){return t.noteData.root},$=function(t){return t.noteData.filter};function q(t,n){var e=null;return t.sub.forEach((function(t){if(t.title===n&&(e=t),e)return e;e=q(t,n)})),e}function K(t,n){var e=[];return(t.title.includes(n)||t.content.includes(n))&&e.push(t),t.sub.length>0&&t.sub.forEach((function(t){e=[].concat(Object(F.a)(e),Object(F.a)(K(t,n)))})),e}var Q=Object(M.a)([function(t){return t.noteData.foldTitles}],(function(t){return t})),V=Object(M.a)([A,P,$],(function(t,n,e){if(""!==e)return K(n,e);if(t===n.title)return n;if(0===n.sub.length)return{title:"",content:"",sub:[]};var r=q(n,t);return r||{title:"",content:"",sub:[]}})),Y=Object(M.a)([A,P,$],(function(t,n,e){if(""===t)return"";var r=null;return(r=t===n.title?n:q(n,t))?U(r,1):""})),Z=e(16);function tt(){var t=Object(a.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return tt=function(){return t},t}function nt(){var t=Object(a.a)(["\n  height: ",";\n  padding-left: ",";\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  margin: 1px 0;\n  &:hover {\n    background-color: ",";\n  }\n"]);return nt=function(){return t},t}var et=l.c.div(nt(),(function(t){return t.theme.navigatorItemHeight}),(function(t){return t.paddingLeft}),(function(t){return t.theme.themeColorLight})),rt=l.c.div(tt());var ot=Object(k.b)((function(t){return{foldTitles:Q(t)}}),(function(t){return{delNote:function(n){t(_({title:n}))},addNote:function(n){t({type:z,payload:{parent:n}})},toggle:function(n){return t({type:R,payload:{title:{title:n}.title}})},switchNote:function(n){t(G({filter:""})),t(H({title:n}))}}}))((function(t){var n=t.level,e=t.data,o=void 0===e?{title:"",content:"",sub:[]}:e,c=t.switchNote,u=t.toggle,a=t.foldTitles,l=t.delNote,d=t.addNote,f=a.includes(o.title),s=o.sub.length>0;return Object(r.jsxs)(i.a.Fragment,{children:[Object(r.jsxs)(et,{paddingLeft:10*n+"px",onClick:function(){c(o.title)},children:[Object(r.jsx)(X,{path:Z.c,placeHolder:!s,clickEvent:function(){return u(o.title)}}),Object(r.jsx)(w,{children:Object(r.jsx)(y,{children:null===o||void 0===o?void 0:o.title})}),Object(r.jsx)(X,{path:Z.b,clickEvent:function(){return t=function(){return l(o.title)},void(confirm("\u662f\u5426\u5220\u9664")&&t());var t}}),Object(r.jsx)(X,{path:Z.d,clickEvent:function(){return d(o)}})]}),Object(r.jsx)(rt,{children:f&&(null===o||void 0===o?void 0:o.sub.map((function(t){return Object(r.jsx)(ot,{level:n+1,data:t},t.title)})))})]})})),it=ot;function ct(){var t=Object(a.a)(["\n  height: 50px;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  border-bottom: 2px solid ",";\n"]);return ct=function(){return t},t}var ut=l.c.div(ct(),(function(t){return t.theme.themeColorDark}));function at(t,n){var e="";return e+="".concat("#".repeat(n)," ").concat(t.title,"\n"),""!==t.content&&(e+="".concat(t.content,"\n")),t.sub.forEach((function(t){e+=at(t,n+1)})),e}var lt=Object(k.b)((function(t){return{root:t.noteData.root}}),null)((function(t){var n=t.root;return Object(r.jsx)(ut,{children:Object(r.jsx)("input",{id:"save",type:"button",value:"\u4fdd\u5b58",onClick:function(){var t=n?at(n,1):"";!function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/plain",r=document.createElement("a");r.style.display="none",document.body.appendChild(r),r.href=window.URL.createObjectURL(new Blob([t],{type:e})),r.setAttribute("download",n),r.click(),window.URL.revokeObjectURL(r.href),document.body.removeChild(r)}(t,"test.md","text/markdown"),console.log(t)}})})}));function dt(){var t=Object(a.a)(["\n  min-width: ",";\n  background-color: ",";\n  color: white;\n  font-size: ",";\n"]);return dt=function(){return t},t}var ft=l.c.div(dt(),(function(t){return t.theme.navWidth}),(function(t){return t.theme.themeColorDark}),(function(t){return t.theme.navFontSize})),st=Object(k.b)((function(t){return{storage:t.noteData.root}}),null)((function(t){var n=t.storage,e=!n||""===n.title;return console.log(e),Object(r.jsxs)(ft,{children:[Object(r.jsx)(lt,{}),e?Object(r.jsx)("button",{children:"XXXXXXXXXXXXXXXX"}):Object(r.jsx)(it,{level:0,data:n})]})})),bt=e(466),ht=e(465),jt=e(96),vt=e.n(jt);function pt(){var t=Object(a.a)(["\n  flex: 1;\n  padding-left: 50px;\n  background-color: ",";\n  /* background-color: green; */\n  color: white;\n  overflow-y: auto;\n  ","\n"]);return pt=function(){return t},t}var xt=e(185),gt={code:{backgroundColor:"#3D3D3D"}},Ot={code:function(t){var n=t.language,e=t.value;return n?Object(r.jsx)(bt.a,{style:ht.a,language:n,children:e||"",customStyle:gt.code}):Object(r.jsx)(bt.a,{style:ht.a,language:"shell",children:e||"",customStyle:gt.code})}},mt=l.c.div(pt(),(function(t){return t.theme.themeColorDark}),T);var wt=function(t){var n=t.content,e=void 0===n?"":n;return Object(r.jsx)(mt,{children:Object(r.jsx)(vt.a,{renderers:Ot,plugins:[xt],children:e})})},yt=e(101),Tt=e.n(yt),kt={lineWrapping:!0};var Nt=function(t){var n=t.change,e=t.content;return Object(r.jsx)(Tt.a,{options:kt,value:e,onChange:n})};function Ct(){var t=Object(a.a)(["\n  border: none;\n  height: 30px;\n  font-size: 20px;\n  &:hover {\n    border: none;\n    outline: none;\n  }\n  &:focus {\n    border: none;\n    outline: none;\n  }\n"]);return Ct=function(){return t},t}function Et(){var t=Object(a.a)(["\n  position: absolute;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  min-width: ",";\n  background-color: ",";\n  border-radius: 0 5px 5px 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n"]);return Et=function(){return t},t}function Dt(){var t=Object(a.a)(["\n  width: 80%;\n  min-height: 15px;\n  margin: 5px 0;\n  align-items: center;\n"]);return Dt=function(){return t},t}function St(){var t=Object(a.a)(["\n  width: 20%;\n  height: 15px;\n  margin: 5px 0;\n  display: flex;\n  align-items: center;\n"]);return St=function(){return t},t}function Xt(){var t=Object(a.a)(["\n  position: relative;\n  width: 100%;\n  padding: 10px 60px 10px 10px;\n  box-sizing: border-box;\n  background-color: ",";\n  border: transparent 5px solid;\n  border-color: ",";\n  border-radius: 5px;\n  margin-top: 5px;\n  display: flex;\n  flex-wrap: wrap;\n  color: white;\n  font-size: 10px;\n  z-index: 101;\n"]);return Xt=function(){return t},t}var zt=l.c.div(Xt(),(function(t){return t.theme.borderColor}),(function(t){var n=t.isRoot,e=t.theme;return n?"gray":e.borderColor})),Lt=l.c.div(St()),Rt=l.c.div(Dt()),Wt=l.c.div(Et(),(function(t){return t.theme.navigatorButtonWidth+20+"px"}),(function(t){return t.theme.themeColorLight})),Jt=l.c.input(Ct());var Bt=Object(k.b)(null,(function(t){return{delNote:function(n){t(_({title:n}))},editNote:function(n,e,r){var o;t({type:B,payload:{oldTitle:(o={oldTitle:n,newTitle:e,newContent:r}).oldTitle,newTitle:o.newTitle,newContent:o.newContent}})}}}))((function(t){var n=t.data,e=t.editNote,i=(t.isRootNode,t.delNote),c=t.edit,u=Object(o.useState)(!1),a=Object(d.a)(u,2),l=a[0],f=a[1],s=Object(o.useState)(n.content),b=Object(d.a)(s,2),h=b[0],j=b[1],v=Object(o.useState)(n.title),p=Object(d.a)(v,2),x=p[0],O=p[1];return Object(o.useEffect)((function(){j(n.content),O(n.title),f(!1),c({title:"",content:""})}),[n]),Object(o.useEffect)((function(){l&&c({title:x,content:h})}),[h,x,l,c]),Object(r.jsxs)(zt,{children:[Object(r.jsx)(Lt,{children:"\u6807\u9898"}),Object(r.jsx)(Rt,{children:l?Object(r.jsx)(Jt,{value:x,onChange:function(t){return O(t.target.value)}}):n.title}),Object(r.jsx)(Lt,{children:"\u5185\u5bb9"}),Object(r.jsx)(Rt,{children:Object(r.jsx)(g,{children:l?Object(r.jsx)(Nt,{change:j,content:h}):n.content})}),Object(r.jsxs)(Wt,{children:[Object(r.jsx)(X,{path:Z.a,clickEvent:function(){f(!l),l?(c({title:"",content:""}),e(n.title,x,h)):c({title:n.title,content:n.content})}}),Object(r.jsx)(X,{path:Z.b,clickEvent:function(){return t=function(){return i(n.title)},void(confirm("\u662f\u5426\u5220\u9664")&&t());var t}})]})]})})),It=e(102),_t=e.n(It);function Ht(){var t=Object(a.a)(["\n  width: 80%;\n  height: 100%;\n  border: none;\n  border-radius: 5px;\n  outline: none;\n  padding-left: 10px;\n  font-size: 10px;\n  background-color: ",";\n  color: white;\n  &:hover {\n    outline: none;\n  }\n"]);return Ht=function(){return t},t}function Gt(){var t=Object(a.a)(["\n  width: ",";\n  padding: 10px;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  overflow-y: auto;\n  ","\n"]);return Gt=function(){return t},t}function Ft(){var t=Object(a.a)(["\n  width: ",";\n  height: 40px;\n  background-color: ",";\n  box-sizing: border-box;\n  padding: 5px;\n  display: flex;\n  align-items: center;\n  border-bottom: 1px solid ",";\n  display: flex;\n  justify-content: center;\n"]);return Ft=function(){return t},t}function Mt(){var t=Object(a.a)(["\n  display: flex;\n  width: ",";\n  background-color: ",";\n  flex-direction: column;\n  align-items: center;\n"]);return Mt=function(){return t},t}var Ut=l.c.div(Mt(),(function(t){var n=t.width;return 0===n?"100%":n+"px"}),(function(t){return t.theme.themeColorDark})),At=l.c.div(Ft(),(function(t){return 0===t.width?"600px":"100%"}),(function(t){return t.theme.themeColorDark}),(function(t){return t.theme.borderColor})),Pt=l.c.div(Gt(),(function(t){return 0===t.width?"600px":"100%"}),T),$t=l.c.input(Ht(),(function(t){return t.theme.themeColorLight}));var qt=Object(k.b)((function(t){return{list:V(t),filter:t.noteData.filter}}),(function(t){return{filterChange:function(n){t(H({title:""})),t(G({filter:n}))}}}))((function(t){var n=t.width,e=t.list,o=t.filterChange,c=t.filter,u=t.edit,a=_t.a.isArray(e)?Object(r.jsx)(i.a.Fragment,{children:e.map((function(t){return Object(r.jsx)(Bt,{edit:u,data:t},t.title)}))}):Object(r.jsxs)(i.a.Fragment,{children:[e&&""!==e.title&&Object(r.jsx)(Bt,{edit:u,data:e,isRootNode:!0}),e&&""!==e.title&&e.sub.map((function(t){return Object(r.jsx)(Bt,{edit:u,data:t},t.title)}))]});return Object(r.jsxs)(Ut,{width:n,children:[Object(r.jsx)(At,{width:n,children:Object(r.jsx)($t,{placeholder:"\u641c\u7d22",value:c,onChange:function(t){o&&o(t.target.value)}})}),Object(r.jsx)(Pt,{width:n,children:a})]})}));function Kt(){var t=Object(a.a)(["\n  flex: auto;\n  background-color: black;\n  position: relative;\n  display: flex;\n"]);return Kt=function(){return t},t}function Qt(){var t=Object(a.a)(["\n  display: flex;\n  flex-direction: row;\n"]);return Qt=function(){return t},t}var Vt=Object(l.c)(x)(Qt()),Yt=l.c.div(Kt()),Zt=600;function tn(t){var n=t.title,e=t.content;return" # ".concat(n,"\n").concat(e)}var nn=Object(k.b)((function(t){return{markdown:Y(t)}}),null)((function(t){var n=t.markdown,e=Object(o.useState)({title:"",content:""}),i=Object(d.a)(e,2),c=i[0],u=i[1];return Object(o.useEffect)((function(){}),[c,u]),Object(r.jsxs)(Vt,{children:[Object(r.jsx)(st,{}),Object(r.jsx)(m,{}),Object(r.jsxs)(Yt,{children:[Object(r.jsx)(qt,{edit:u,width:Zt}),Object(r.jsx)(m,{}),Object(r.jsx)(wt,{content:""!==c.title?tn(c):n||""})]})]})}));function en(){var t=Object(a.a)(['\nBody {\n  font-family:"Times New Roman,Georgia,Serif;";\n  .CodeMirror{\n    font-family:"Times New Roman,Georgia,Serif;";\n    font-size:20px;\n  }\n  .CodeMirror-vscrollbar{\n    ',"\n  }\n}\n"]);return en=function(){return t},t}e(461);var rn=Object(l.b)(en(),T);var on=Object(k.b)((function(t){return{theme:t.theme}}),null)((function(t){var n=t.theme;return Object(r.jsxs)(l.a,{theme:n,children:[Object(r.jsx)(rn,{}),Object(r.jsx)(nn,{})]})})),cn=e(13),un=e(103),an=e(104),ln={filter:"",curNoteTitle:"",foldTitles:[],root:{title:"\u6d4b\u8bd5",content:"",sub:[]}};function dn(t,n){var e=t.filter,r=t.curNoteTitle,o=t.foldTitles,i=t.root;return o.includes(n)?{filter:e,curNoteTitle:r,foldTitles:o.filter((function(t){return t!==n})),root:i}:{filter:e,curNoteTitle:r,foldTitles:[].concat(Object(F.a)(o),[n]),root:i}}function fn(t,n){return t.curNoteTitle===n?t:{filter:t.filter,curNoteTitle:n,foldTitles:t.foldTitles,root:t.root}}function sn(t,n){return t.filter===n?t:{filter:n,curNoteTitle:t.curNoteTitle,foldTitles:t.foldTitles,root:t.root}}function bn(t,n){var e=null;return t.title===n?t:(t.sub.forEach((function(t){if(t.title===n&&(e=t),e)return e;e=bn(t,n)})),e)}function hn(t,n){var e=JSON.parse(JSON.stringify(t)),r=bn(e.root,n.oldTitle);return r?(r.title=n.newTitle,r.content=n.newContent,e):t}function jn(t,n){var e=JSON.parse(JSON.stringify(t)),r=bn(e.root,n.parent.title);return null===r||void 0===r||r.sub.push({title:(1e5*Math.random()).toString(),content:"",sub:[]}),e}function vn(t,n){if(t.title===n)return{title:"",content:"",sub:[]};var e={title:t.title,content:t.content,sub:[]};return t.sub.forEach((function(t){t.title!==n&&e.sub.push(vn(t,n))})),e}function pn(t,n){var e=vn(JSON.parse(JSON.stringify(t)).root,n.title);return{curNoteTitle:t.curNoteTitle,filter:t.filter,foldTitles:t.foldTitles,root:e}}function xn(t){return localStorage.setItem("note",JSON.stringify(t)),t}function gn(){var t=localStorage.getItem("note");return t?JSON.parse(t):ln}var On=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case I:return xn(pn(t,n.payload));case z:return xn(jn(t,n.payload));case B:return xn(hn(t,n.payload));case J:return xn(sn(t,n.payload.filter));case W:return xn(fn(t,n.payload.title));case R:return xn(dn(t,n.payload.title));case L:default:return gn()}},mn="GET_THEME",wn={backgroundColor:"blue",borderColor:"black",themeColorDark:"#3D3D3D",themeColorLight:"#5d5d5d",navFontSize:"10px",navigatorButtonWidth:24,navigatorItemHeight:"30px",navWidth:"200px",editorPaneWidth:"500px",sidebarWidth:"150px",StorageNavigatorTopHeight:"30px"},yn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case mn:default:return t}},Tn=Object(cn.combineReducers)({config:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return n.type,t},theme:yn,noteData:On}),kn=Object(cn.createStore)(Tn,Object(un.composeWithDevTools)(Object(cn.applyMiddleware)(an.a)));u.a.render(Object(r.jsx)(k.a,{store:kn,children:Object(r.jsx)(on,{})}),document.getElementById("root"))}},[[462,1,2]]]);
//# sourceMappingURL=main.d0e51bf3.chunk.js.map